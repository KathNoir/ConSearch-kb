<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ConSearch</title>
</head>
<body style="background-color: gray;">

    <h1 style="text-align: center; color: white;"> ConSearch </h1>

    <!-- Artist select box -->
    <form id="artist-form">

        <!-- label for text box -->
        <label for="artist-input"> Choose Your Artist </label>

        <!-- text input box -->
        <input type= "text" id="artist-input"><br>

        <!-- Submit button -->
        <input id="select-artist" type="submit" value="Search">

    </form>

    <!-- artist info -->
    <div id="artist-div"></div>

    
     
</body>

   <script
  src="https://code.jquery.com/jquery-3.4.0.min.js"
  integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg="
  crossorigin="anonymous"></script>
  
  <script>

    function searchBands(artist) {

        //api
         var queryURL = "https://rest.bandsintown.com/artists/" + artists + "?app_id=codingbootcamp";

         $.ajax({
             url: queryURL,
             method: "GET"
         }).done(function(response) {

            //printing
            console.log(response);

            //constructing html
            var artistName = $("<h1>").text(response.name);
            var artistURL = $("<a>").attr("href", response.url).append(artistName);
            var artistImage = $("<img>").attr("src", response.thumb_url);
            var trackerCount = $("<h2>").text(response.tracker_count + " fans tracking this artist");
            var upcomingEvents = $("<h2>").text(response.upcoming_event_count) + " upcoming events");
            var goToArtist = $("<a>").attr("href", response.url).text("See Tour Dates");

            $("#artist-div").empty();
            $("#artist-div").append(artistUrl, artistImage, trackerCount, upcomingEvents, goToArtist);


         })

    }


    $("#select-artist").on("click", function(event) {

        event.preventDefault();

        var artist = $("#artist-input").val().trim();

        searchBands();

    })
  </script>
</html>